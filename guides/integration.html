
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ICO Integration</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
      .tab-json--inline table td { padding: 5px; }
.tab-json--inline table pre { margin: 0; }
.tab-json--inline, .tab-json--inline .w {
  color: #586e75;
}
.tab-json--inline .err {
  color: #002b36;
  background-color: #dc322f;
}
.tab-json--inline .c, .tab-json--inline .cd, .tab-json--inline .cm, .tab-json--inline .c1, .tab-json--inline .cs {
  color: #657b83;
}
.tab-json--inline .cp {
  color: #b58900;
}
.tab-json--inline .nt {
  color: #b58900;
}
.tab-json--inline .o, .tab-json--inline .ow {
  color: #93a1a1;
}
.tab-json--inline .p, .tab-json--inline .pi {
  color: #93a1a1;
}
.tab-json--inline .gi {
  color: #859900;
}
.tab-json--inline .gd {
  color: #dc322f;
}
.tab-json--inline .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.tab-json--inline .k, .tab-json--inline .kn, .tab-json--inline .kp, .tab-json--inline .kr, .tab-json--inline .kv {
  color: #6c71c4;
}
.tab-json--inline .kc {
  color: #cb4b16;
}
.tab-json--inline .kt {
  color: #cb4b16;
}
.tab-json--inline .kd {
  color: #cb4b16;
}
.tab-json--inline .s, .tab-json--inline .sb, .tab-json--inline .sc, .tab-json--inline .sd, .tab-json--inline .s2, .tab-json--inline .sh, .tab-json--inline .sx, .tab-json--inline .s1 {
  color: #859900;
}
.tab-json--inline .sr {
  color: #2aa198;
}
.tab-json--inline .si {
  color: #d33682;
}
.tab-json--inline .se {
  color: #d33682;
}
.tab-json--inline .nn {
  color: #b58900;
}
.tab-json--inline .nc {
  color: #b58900;
}
.tab-json--inline .no {
  color: #b58900;
}
.tab-json--inline .na {
  color: #268bd2;
}
.tab-json--inline .m, .tab-json--inline .mf, .tab-json--inline .mh, .tab-json--inline .mi, .tab-json--inline .il, .tab-json--inline .mo, .tab-json--inline .mb, .tab-json--inline .mx {
  color: #859900;
}
.tab-json--inline .ss {
  color: #859900;
}
    </style>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
    <link href="../images/favicon.ico" rel="icon" type="image/ico" />
    <script src="../javascripts/all.js"></script>
  </head>

  <body class="guides guides_integration" data-languages="[]">


    <div class="base">
      <div class="base__header">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <header class='site-header'>
          <div class="site-header__branding col-sm p-0">
            <a href="/" class="site-header__logo" ></a>
            <a href="/" class="site-header__title" >
                <strong class="site-header__title--strong">Loona</strong> <span class="">Docs</span>
            </a>
            <i class="burger fas fa-bars" class="burger"></i>
            <nav>
              <a class="nav-link" href="/">Home</a>
              <a class="nav-link" href="https://loona.ai">Loona</a>
<!--              <div>-->
<!--                <div class="container">-->
<!--                </div>-->
<!--              </div>-->
            </nav>
          </div>
        </header>
      </div>
    </div>
  </div>
</div>

      <div class="base__body">
        <div class="container content">
          <div class="guides-main-container">
  <div>
    <h1 class="mt-2">ICO Integration</h1>
    <p>Use TradeGecko APIs and webhooks to build sales channel integrations, allowing merchants to import orders and products from online stores or marketplaces and to sell anywhere and everywhere.</p>

    In this guide:
    <ul class="mt-2">
        <li><a href="#sales_channel_resources">ICO Integration</a></li>
        <li><a href="#authorising_your_sales_channel_integration">Authorising Your Sales Channel Integration</a></li>
        <li><a href="#publishing_products_from_tradegecko_to_a_sales_channel">Publishing Products from TradeGecko to a Sales Channel</a></li>
        <li><a href="#importing_orders_from_a_sales_channel_to_tradegecko">Importing Orders from a Sales Channel to TradeGecko</a></li>
        <li><a href="#handling_returns">Handling Returns</a></li>
        <li><a href="#additional_resources">Additional Resources</a></li>
        <li><a href="#support">Support</a></li>
    </ul>
  </div>

  <div id="ico_integration" class="guide-section">
    <h2>ICO Integration</h2>
    <p>Before you start working on a sales channel integration with TradeGecko, it’s helpful to understand some of the different sales channel related resources.</p>
    <ul class="mt-2">
        <li class="mt-1"><b>Sales Order</b>:&nbsp;Contains information about a sales order, its associated order line items and fulfillments. Order line items contain information such as variants and tax types</li>
          <ul>
              <li>An order in TradeGecko can have 1 of 6 statuses:&nbsp;<code>draft</code>, <code>active</code>, <code>finalized</code>, <code>fulfilled</code>, <code>void</code> or <code>deleted</code>.</li>
          </ul>
        <li class="mt-1"><b>Fulfillment</b>:&nbsp;Represents a shipment of one or more items in a sales order. It includes the line item that the fulfillment applies to, its tracking information and the location of the fulfillment</li>
          <ul>
              <li>A fulfillment object in TradeGecko can have 1 of 4 statuses:&nbsp;<code>packed</code>, <code>fulfilled</code>, <code>void</code> or <code>deleted</code>.</li>
          </ul>
        <li class="mt-1"><b>Company</b>:&nbsp;Represents a merchant's supplier or customer created and stored in the TradeGecko Relationships section</li>
        <li class="mt-1"><b>Address</b>:&nbsp;Represents a physical address associated with a merchant's company</li>
    </ul>
  </div>

  <div id="authorising_your_sales_channel_integration" class="guide-section">
    <h2>Authorising Your Sales Channel Integration</h2>
    <p>TradeGecko uses OAuth to authorize third party integrations. As part of the OAuth flow, TradeGecko obtains the user’s authorization and issues an access token that your sales channel can use to interact with the API. To find out more, refer to our <a href="/docs.html#oauth-authentication-flows" target="_blank">OAuth docs</a>.</p>
  </div>

  <div id="publishing_products_from_tradegecko_to_a_sales_channel" class="guide-section">
    <h2>Publishing Products from TradeGecko to a Sales Channel</h2>
    <p></p>
    <ul>
      <li>Step 1:&nbsp;Get a product, its variants and their inventory levels.</li>
      <li>Step 2 (optional):&nbsp;Receive an alert whenever a merchant creates a new product or variant in TradeGecko</li>
      <li>Step 3:&nbsp;Receive an alert whenever the stock level for a variant is updated in TradeGecko</li>
    </ul>

    <div class="step-section">
      <h3>Step 1:&nbsp;Get a product, its variants and their inventory levels.</h3>
      <h3><b>Tips:</b></h3>
      <ul>
          <li>As TradeGecko does not enforce variant SKU uniqueness, you are advised to use the TradeGecko variant id instead of SKU to create any mapping between TradeGecko and sales channel variants. This will ensure that incoming sales orders are linked to the correct TradeGecko variants.</li>
      </ul>
      <h3>Notes:</h3>
      <ul>
          <li>For each variant, we return <code>locations</code>, an array of per-warehouse inventory data about the current variant.</li>
          <li>When a variant's <code>manage_stock</code> attribute is set to false, the variant's stock level will not be tracked by TradeGecko.</li>
          <li>When a variant's <code>keep_selling</code> attribute is set to true, the variant can continue to be sold even when the stock level is zero or negative.</li>
          <li>If the variant has a <code>max_online</code> value defined, the sales channel should not display stock levels higher than this value.</li>
          <li>In TradeGecko, images belong to products. Each image can be assigned to multiple variants of the product. Use the <a target="_blank" href="/docs.html#retrieve-a-particular-image">image endpoint</a> to retrieve variant images.</li>
          <li>Variants may have different prices across price lists. To determine the variant prices to be displayed on the sales channel, you may need to retrieve the merchant's price lists by making a GET request to the price lists endpoint (<code>GET /price_lists</code>). Some relevant price lists include:&nbsp;</li>
            <ul>
                <li>The <code>default_order_price_list_id</code> which you can retrieve from the <a href="/docs.html#account" target="_blank">account endpoint.</a></li>
                <li>The <code>default_price_list_id</code> which you can retrieve from the <a href="/docs.html#company" target="_blank">company endpoint.</a></li>
            </ul>
      </ul>
    </div>

    <div class="step-section">
      <h3>Step 2 (optional):&nbsp;Receive an alert whenever a merchant creates a new product or variant in TradeGecko</h3>
      <p>Subscribe to the <code>product.create</code> and <code>variant.create</code> webhooks to be notified when a new product or variant is created by the merchant.</p>
    </div>

    <div class="step-section">
      <h3>Step 3:&nbsp;Receive an alert whenever the stock level for a variant is updated in TradeGecko</h3>
      <p>Subscribe to the <code>variant.stock_level_update</code> webhook to be notified when the stock level for a variant is updated in TradeGecko.</p>
    </div>
  </div>

  <div id="importing_orders_from_a_sales_channel_to_tradegecko" class="guide-section">
    <h2>Importing Orders from a Sales Channel to TradeGecko</h2>
    <p>Each order includes an array of order line items that needs to be fulfilled. Each order line item can be packed and fulfilled separately, depending on how the inventory is packed and managed.</p>
    <ul>
      <li>Step 1:&nbsp;Create a sales order.</li>
      <li>Step 2 (optional):&nbsp;Invoice and mark the sales order as paid.</li>
      <li>Step 3 (optional):&nbsp;Fulfill a sales order.</li>
      <li>Step 4 (optional):&nbsp;Cancel a sales order.</li>
    </ul>

    <div class="step-section">
      <h3>Step 1:&nbsp;Create a sales order.</h3>
      <p>For an existing customer with existing addresses, populate the <code>company_id</code> attribute with the customer's TradeGecko id, and the <code>shipping_address_id</code> and <code>billing_address_id</code> attributes with appropriate TradeGecko address ids. Do note that the <code>billing_address_id</code> defaults to the <code>shipping_address_id</code> if it is not provided.</p>
      <p>For an existing customer with a new address, you can embed the address when creating a sales order as seen below. Alternatively, you can manually create a new address using the <a href="/docs.html#create-a-new-address" target="_blank">address endpoint</a>.</p>
      <p>For a new customer, you can embed the the company and shipping address when creating a sales order as seen below. Alternatively, you can manually create <a href="/docs.html#create-a-new-company" target="_blank">a new company</a> and <a href="/docs.html#create-a-new-address" target="_blank">a new address</a>.</p>
    </div>

    <div class="step-section">
      <h3>Step 2 (optional):&nbsp;Invoice and mark the sales order as paid.</h3>
      <p></p>
      <p>Create an invoice for a sales order by sending an API call to <code> POST /orders/[:order_id]/actions/invoice</code>. This will create an <a target="_blank" href="/docs.html#invoice">invoice</a> for the sales order. Once the customer has paid for the sales order, mark the sales order as paid by sending an API call to <code>POST /orders/[:order_id]/actions/pay</code>.</p>
      <p>For orders which are paid by credit card, you can send an API call to <code> POST /orders/[:order_id]/actions/pay</code> to both invoice and mark the sales order as paid in one step.</p>
      <p></p>
    </div>

    <div class="step-section">
      <h3>Step 3 (optional):&nbsp;Fulfill a sales order.</h3>
      <p></p>
      <p>Fulfill a sales order by sending an API call to <code>POST /orders/[:order_id]/actions/pack</code>. This creates a fulfillment object with status <code>packed</code> and fires a <code>fulfillment.create</code> webhook. Once the fulfillment has been shipped, send an API call to <code>POST /orders/[:order_id]/actions/fulfil</code> which updates the fulfillment object to status <code>fulfilled</code>.</p>
      <p>Learn more about managing the fulfillment process in TradeGecko <a target="_blank" href="3pl.html">here</a>.</p>
      <p></p>
    </div>

    <div class="step-section">
      <h3>Step 4 (optional):&nbsp;Cancel a sales order.</h3>
      <p>To cancel a sales order, send an API call to <code>POST /orders/[:order_id]/actions/void</code>.</p>
    </div>

    <div class="step-section">
      <h3>Notes</h3>
      <ul>
          <li>If you want to add additional information to a sales order such as special requests for customers or shipping information, you can set the <code>freeform</code> attribute to true and create or update an order line item with these information.</li>
          <li>When you create a sales order with a variant that cannot be matched to an existing variant in TradeGecko, either by TradeGecko id or SKU, you will need to create the variant in TradeGecko before re-importing the sales order.</li>
          <li>If you want to specify a currency when creating a sales order, pass in the <code>currency_iso</code> when creating or updating a sales order and TradeGecko would find a matching currency. However, if the currency matching fails, you will need to create the currency first. You can also cache the currencies and check if a particular currency exists before creating a new sales order.</li>
      </ul>
    </div>
  </div>

    <div id="handling_returns" class="guide-section">
      <h2>Handling Returns</h2>
        <p>Depending on a merchant's return policy, there may be a need to create a fulfillment return or void an order. You can return an entire order or part of an order.</p>
        <p>In the event that your company is handling the return through TradeGecko API, you can create a <code>fulfillment_return</code> as shown below:&nbsp;</p>
      </div>

      <div>
        <h3><b>Tips:</b></h3>
        <ul>
            <li>If fulfillment return creation is handled by the merchant, you can subscribe to the <code>fulfillment_return.create</code> webhook to receive notifications.</li>
        </ul>
      </div>

      <div>
        <h3>Notes: </h3>
        <ul>
            <li>You cannot delete a fulfillment if there are any associated fulfillment returns.</li>
            <li>If a merchant is integrated with an accounting platform on TradeGecko, creating a fulfillment return would create a credit note on the accounting platform.</li>
            <li>Refunds are currently not supported. If you need an endpoint for the refund process, let us know <a target="_blank" href="https://tradegecko.typeform.com/to/A2ewy0">here</a>.</li>
            <li>You can void an order via the <a target="_blank" href="/docs.html#order-actions">order's void endpoint</a>.</li>
        </ul>
      </div>
</div>

        </div>
      </div>
      <div class="feedback-banner">
    <h2>
      Got Feedback? We want to hear from you!
    </h2>
    <a target="_blank" href="#" class="btn btn-big btn-primary" >
      Give Feedback
    </a>
</div>
<div class="base__footer">
  <div class="footer-wrapper">
    <div class="container">
      <div class="row">
          <div class="col-3">
          <h4>Компания</h4>
            <ul class="link-list">
                <li><a href="https://loona.ai/about-us" target="_blank">О нас</a></li>
                <li><a href="https://loona.ai/team" target="_blank">Контакы</a></li>
                <li><a href="https://loona.ai/jobs" target="_blank">Возможности</a></li>
                <li><a href="https://loona.ai/press-kit" target="_blank">Блог</a></li>
            </ul>
          </div>
          <div class="col-3">
          <h4>Помощь и Обучение</h4>
            <ul class="link-list">
                <li><a href="https://loona.ai/contact-us" target="_blank">ЧАВО</a></li>
                <li><a href="https://loona.ai" target="_blank">Обучение</a></li>
                <li><a href="https://loona.ai/contact-us" target="_blank">Тех поддержка</a></li>
            </ul>
          </div>
        <div class="col-4">
          <a target="_blank" href="https://tradegecko.typeform.com/to/A2ewy0" class="btn btn-big btn-primary" >
            Subscribe to our newsletter
          </a>
          <legend>
            You'll get useful news from our blog, as well as periodic product update emails. Unsubscribe any time.
          </legend>
        </div>
      </div>
    </div>
  </div>
</div>

    </div>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
  <script>
      var state = false;
      var nav = document.querySelector('nav');
      var burger = document.querySelector('.burger');
      burger.onclick = function(){
          let display = state ? 'none' : 'block';
          nav.style.display = display;
          state = !state;
      }

      var mql = window.matchMedia('(min-width: 767px)');

      function screenTest() {
          nav.style.display = null;
      }

      mql.addListener(screenTest);

  </script>
</html>
